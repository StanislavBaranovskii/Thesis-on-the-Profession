#####################
#
#
sudo update
#sudo snap install docker
#snap info docker
sudo apt install docker.io






# Установка в докере
docker pull docker.elastic.co/elasticsearch/elasticsearch:7.17.11

docker run --group-add 0 -p 127.0.0.1:9200:9200 -p 127.0.0.1:9300:9300 -e "discovery.type=single-node" docker.elastic.co/elasticsearch/elasticsearch:7.17.11
-e "bootstrap.memory_lock=true" --ulimit memlock=-1:-1 --ulimit nofile=65535:65535

curl -X GET "localhost:9200/_cat/nodes?v=true&pretty"

grep vm.max_map_count /etc/sysctl.conf
vm.max_map_count=262144
sysctl -w vm.max_map_count=262144

#настройте его, установив discovery.type значение single-node;в этой ситуации узел выберет себя ведущим и не будет присоединяться к кластеру с каким-либо другим узлом.
#-v full_path_to/custom_elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml



docker pull distribution/registry:master
